{% extends 'base.html' %}
{% block title %}Manage{% endblock %}
{% block main %}
<h1>Management Panel</h1>
<section>
    <h3>Devices</h3>
    <table>
        <tr>
            <th colspan="2">
                <a href="{{ url_for('manage.create', api='device') }}">add</a>
            </th>
        </tr>
        {% for device in devices %}
        <tr>
            <td>{{ device.name }}</td>
            <td>
                <a href="{{ url_for('manage.update', api='device', id=device['id']) }}">update</a> | 
                <a href="{{ url_for('manage.delete', api='device', id=device['id']) }}">delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</section>
<section>
    <h3>Tests</h3>
    <table>
        <tr>
            <th colspan="2">
                <a href="{{ url_for('manage.create', api='test') }}">add</a>
            </th>
        </tr>
        {% for test in tests %}
        <tr>
            <td>{{ test.name }}</td>
            <td>
                <a href="{{ url_for('manage.update', api='test', id=test['id']) }}">update</a> | 
                <a href="{{ url_for('manage.delete', api='test', id=test['id']) }}">delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</section>
<section>
    <h3>Tasks</h3>
    <table>
        <tr>
            <th colspan="2">
                <a href="{{ url_for('manage.create', api='task') }}">add</a>
            </th>
        </tr>
        {% for task in tasks %}
        <tr>
            <td>{{ task.name }}</td>
            <td>
                <a href="{{ url_for('manage.update', api='task', id=task['id']) }}">update</a> | 
                <a href="{{ url_for('manage.delete', api='task', id=task['id']) }}">delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</section>
{% endblock %}